define(["jquery","core/config","core/log","block_course_recycle/bootstrap-select"],function(a,b,c,d){var e={init:function(){a(".recycle-course-edit-handle").bind("click",this.load_change_form),a("#modal-status-save").bind("click",this.submit_change_form),c.debug("AMD Course Recycle List initialized")},load_change_form:function(){var c=a(this),d='<div class="centered"><center><img id="detail-waiter" src="';d+=b.wwwroot+'/pix/i/ajaxloader.gif" /></center></div>',a("#recyclelist-edit-inner-form").html(d);var e=c.attr("data-course"),f=b.wwwroot+"/blocks/course_recycle/ajax/services.php";f+="?what=getmodalform",f+="&id="+e,a.get(f,function(b){a("#recyclelist-edit-inner-form").html(b),a("#modal-status-save").attr("data-course",e),a(".selectpicker").selectpicker()},"html")},submit_change_form:function(){var c=a(this),d=c.attr("data-course"),e=b.wwwroot+"/blocks/course_recycle/ajax/services.php";e+="?what=changerecycle",e+="&id="+d;var f="recycleaction";e+="&status="+a("[name="+f+"]:checked").val(),a.get(e,function(b){if("success"===b.result){var c="status-"+b.oldstate;a(".recycle-list-status-"+d).removeClass(c);var e="status-"+b.newstate;a(".recycle-list-status-"+d).addClass(e),a("#recycle-status-"+d).html(b.newlabel),a("#recyclelist-edit-form").modal("hide")}},"json")},get_status_code:function(a){var b=["RequestForArchive","Stay","Reset","Clone","Delete","Archive","CloneAndReset","CloneArchiveAndReset"];return b[a]}};return e});